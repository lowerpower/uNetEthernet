[root@proxy13 ~]# 
[root@proxy13 ~]# ls -l
total 8720
-rw------- 1 root root    1166 Dec 27 12:48 anaconda-ks.cfg
-rw-r--r-- 1 root root   26707 Dec 27 12:48 install.log
-rw-r--r-- 1 root root    7592 Dec 27 12:48 install.log.syslog
drwxr-xr-x 9 root root    4096 Jan 19 03:50 parallels
-rwx------ 1 root root 8883880 Dec 27 12:48 parallels_installer
[root@proxy13 ~]# mkdir yoics
[root@proxy13 ~]# cd yoics
[root@proxy13 yoics]# ls -l
total 0
[root@proxy13 yoics]# wget http://proxy50.yoics.net/install_yoics.tgz
--2013-01-22 23:41:34--  http://proxy50.yoics.net/install_yoics.tgz
Resolving proxy50.yoics.net... 88.198.106.54
Connecting to proxy50.yoics.net|88.198.106.54|:80... connected.
HTTP request sent, awaiting response... 404 Not Found
2013-01-22 23:41:34 ERROR 404: Not Found.

[root@proxy13 yoics]# wget http://proxy51.yoics.net/install_yoics.tgz
--2013-01-22 23:41:40--  http://proxy51.yoics.net/install_yoics.tgz
Resolving proxy51.yoics.net... 5.9.71.36
Connecting to proxy51.yoics.net|5.9.71.36|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 7222049 (6.9M) [application/x-gzip]
Saving to: “install_yoics.tgz”

100%[==========================================================================================>] 7,222,049   1.08M/s   in 7.7s    

2013-01-22 23:41:48 (914 KB/s) - “install_yoics.tgz” saved [7222049/7222049]

[root@proxy13 yoics]# ls -l
total 7056
-rw-r--r-- 1 root root 7222049 Jan 22 23:41 install_yoics.tgz
[root@proxy13 yoics]# tar -xvzf install_yoics.tgz 
yoics_install/
yoics_install/mrtg.tgz
yoics_install/yoics.net.ssl.tgz
yoics_install/proxy.tgz
yoics_install/fw.txt
yoics_install/mrtg-2.tgz
yoics_install/install_raw.txt
yoics_install/install_proxy_plesk.txt
yoics_install/replace
[root@proxy13 yoics]# ls -l
total 7060
-rw-r--r-- 1 root root 7222049 Jan 22 23:41 install_yoics.tgz
drwxr-xr-x 2 root root    4096 Jan 22 22:48 yoics_install
[root@proxy13 yoics]# cd yoics_install/
[root@proxy13 yoics_install]# ls -l
total 7116
-rw-r--r-- 1 root root    2022 Jan 22 16:28 fw.txt
-rw-r--r-- 1 root root    2087 Jan 22 16:14 install_proxy_plesk.txt
-rw-r--r-- 1 root root    2263 Jan 22 16:29 install_raw.txt
-rw-r--r-- 1 root root  818871 Jan 22 16:25 mrtg-2.tgz
-rw-r--r-- 1 root root   16270 Jan 22 16:14 mrtg.tgz
-rw-r--r-- 1 root root 6426931 Jan 22 16:13 proxy.tgz
-rwxr-xr-x 1 root root     425 Jan 22 16:14 replace
-rw-r--r-- 1 root root    2958 Jan 22 16:38 yoics.net.ssl.tgz
[root@proxy13 yoics_install]# adduser mrtg
[root@proxy13 yoics_install]# passwd mrtg
Changing password for user mrtg.
New password: 
Retype new password: 
passwd: all authentication tokens updated successfully.
[root@proxy13 yoics_install]# cp mrtg.tgz /home/mrtg/
[root@proxy13 yoics_install]# cp replace /home/mrtg
[root@proxy13 yoics_install]# cd /home/mrtg
[root@proxy13 mrtg]# tar -xvzf mrtg.tgz 
cfg/
cfg/mrtg.cfg
cfg/yoics.net.sh
cfg/email.php
cfg/ping_list.sh
cfg/mrtg-load
cfg/session.sh
cfg/mem-swap4mrtg.sh
cfg/mrtg1.ok
cfg/fail.php
cfg/mrtg-data
cfg/process_connections.php
cfg/mrtg2.ok
cfg/ping.php
cfg/ping.sh
cfg/connect_count.php
cfg/mrtg1.cfg.old
cfg/mrtg1.cfg
cfg/fail_mail.php
cfg/geturl.php
cfg/mrtg2.cfg
[root@proxy13 mrtg]# cd -
/root/yoics/yoics_install
[root@proxy13 yoics_install]# cp mrtg-2.tgz /usr/local
[root@proxy13 yoics_install]# ls -l
total 7116
-rw-r--r-- 1 root root    2022 Jan 22 16:28 fw.txt
-rw-r--r-- 1 root root    2087 Jan 22 16:14 install_proxy_plesk.txt
-rw-r--r-- 1 root root    2263 Jan 22 16:29 install_raw.txt
-rw-r--r-- 1 root root  818871 Jan 22 16:25 mrtg-2.tgz
-rw-r--r-- 1 root root   16270 Jan 22 16:14 mrtg.tgz
-rw-r--r-- 1 root root 6426931 Jan 22 16:13 proxy.tgz
-rwxr-xr-x 1 root root     425 Jan 22 16:14 replace
-rw-r--r-- 1 root root    2958 Jan 22 16:38 yoics.net.ssl.tgz
[root@proxy13 yoics_install]# vi install_mrtg
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@proxy13 yoics_install]# ls -l
total 7120
-rw-r--r-- 1 root root    2022 Jan 22 16:28 fw.txt
-rw-r--r-- 1 root root     162 Jan 22 23:45 install_mrtg
-rw-r--r-- 1 root root    2087 Jan 22 16:14 install_proxy_plesk.txt
-rw-r--r-- 1 root root    2263 Jan 22 16:29 install_raw.txt
-rw-r--r-- 1 root root  818871 Jan 22 16:25 mrtg-2.tgz
-rw-r--r-- 1 root root   16270 Jan 22 16:14 mrtg.tgz
-rw-r--r-- 1 root root 6426931 Jan 22 16:13 proxy.tgz
-rwxr-xr-x 1 root root     425 Jan 22 16:14 replace
-rw-r--r-- 1 root root    2958 Jan 22 16:38 yoics.net.ssl.tgz
[root@proxy13 yoics_install]# chmod +x install_mrtg 
[root@proxy13 yoics_install]# ./install_mrtg 
adduser: user 'mrtg' already exists
cfg/
cfg/mrtg.cfg
cfg/yoics.net.sh
cfg/email.php
cfg/ping_list.sh
cfg/mrtg-load
cfg/session.sh
cfg/mem-swap4mrtg.sh
cfg/mrtg1.ok
cfg/fail.php
cfg/mrtg-data
cfg/process_connections.php
cfg/mrtg2.ok
cfg/ping.php
cfg/ping.sh
cfg/connect_count.php
cfg/mrtg1.cfg.old
cfg/mrtg1.cfg
cfg/fail_mail.php
cfg/geturl.php
cfg/mrtg2.cfg
/root/yoics/yoics_install
mrtg-2/
mrtg-2/bin/
mrtg-2/bin/mrtg
mrtg-2/bin/cfgmaker
mrtg-2/bin/indexmaker
mrtg-2/bin/rateup
mrtg-2/bin/mrtg-traffic-sum
mrtg-2/share/
mrtg-2/share/mrtg2/
mrtg-2/share/mrtg2/icons/
mrtg-2/share/mrtg2/icons/mrtg-m.gif
mrtg-2/share/mrtg2/icons/mrtg-ti.gif
mrtg-2/share/mrtg2/icons/mrtg-ti.png
mrtg-2/share/mrtg2/icons/mrtg-m.png
mrtg-2/share/mrtg2/icons/mrtg-l.png
mrtg-2/share/mrtg2/icons/mrtg-r.gif
mrtg-2/share/mrtg2/icons/mrtg-l.gif
mrtg-2/share/mrtg2/icons/mrtg-r.png
mrtg-2/share/doc/
mrtg-2/share/doc/mrtg2/
mrtg-2/share/doc/mrtg2/cfgmaker.txt
mrtg-2/share/doc/mrtg2/mrtg-webserver.txt
mrtg-2/share/doc/mrtg2/mrtg-contrib.txt
mrtg-2/share/doc/mrtg2/THANKS
mrtg-2/share/doc/mrtg2/mrtg-mibhelp.pod
mrtg-2/share/doc/mrtg2/mrtg-webserver.pod
mrtg-2/share/doc/mrtg2/mrtglib.pod
mrtg-2/share/doc/mrtg2/mrtg-logfile.txt
mrtg-2/share/doc/mrtg2/mrtg-ti.png
mrtg-2/share/doc/mrtg2/mrtg-mibhelp.txt
mrtg-2/share/doc/mrtg2/mrtg-nt-guide.txt
mrtg-2/share/doc/mrtg2/indexmaker.pod
mrtg-2/share/doc/mrtg2/mrtg-reference.txt
mrtg-2/share/doc/mrtg2/mrtg-forum.txt
mrtg-2/share/doc/mrtg2/mrtg-forum.pod
mrtg-2/share/doc/mrtg2/mrtg-contrib.pod
mrtg-2/share/doc/mrtg2/mrtg-m.png
mrtg-2/share/doc/mrtg2/mrtg-faq.pod
mrtg-2/share/doc/mrtg2/mrtg-squid.txt
mrtg-2/share/doc/mrtg2/mrtg-nw-guide.txt
mrtg-2/share/doc/mrtg2/mrtg-nw-guide.pod
mrtg-2/share/doc/mrtg2/COPYRIGHT
mrtg-2/share/doc/mrtg2/mrtg-logfile.pod
mrtg-2/share/doc/mrtg2/mrtg.pod
mrtg-2/share/doc/mrtg2/mrtg-reference.pod
mrtg-2/share/doc/mrtg2/mrtg-nt-guide.pod
mrtg-2/share/doc/mrtg2/mrtg-ipv6.pod
mrtg-2/share/doc/mrtg2/mrtg.txt
mrtg-2/share/doc/mrtg2/mrtg-l.png
mrtg-2/share/doc/mrtg2/README
mrtg-2/share/doc/mrtg2/mrtg-rrd.txt
mrtg-2/share/doc/mrtg2/CHANGES
mrtg-2/share/doc/mrtg2/mrtg-unix-guide.txt
mrtg-2/share/doc/mrtg2/cfgmaker.pod
mrtg-2/share/doc/mrtg2/mrtg-unix-guide.pod
mrtg-2/share/doc/mrtg2/indexmaker.txt
mrtg-2/share/doc/mrtg2/mrtglib.txt
mrtg-2/share/doc/mrtg2/mrtg-squid.pod
mrtg-2/share/doc/mrtg2/mrtg-rrd.pod
mrtg-2/share/doc/mrtg2/mrtg-r.png
mrtg-2/share/doc/mrtg2/COPYING
mrtg-2/share/doc/mrtg2/mrtg-faq.txt
mrtg-2/share/doc/mrtg2/mrtg-ipv6.txt
mrtg-2/share/man/
mrtg-2/share/man/man1/
mrtg-2/share/man/man1/mrtg-forum.1
mrtg-2/share/man/man1/mrtg-squid.1
mrtg-2/share/man/man1/mrtg-faq.1
mrtg-2/share/man/man1/mrtg-webserver.1
mrtg-2/share/man/man1/mrtg-mibhelp.1
mrtg-2/share/man/man1/mrtg-ipv6.1
mrtg-2/share/man/man1/mrtg-contrib.1
mrtg-2/share/man/man1/mrtg-rrd.1
mrtg-2/share/man/man1/mrtg-unix-guide.1
mrtg-2/share/man/man1/mrtglib.1
mrtg-2/share/man/man1/mrtg-logfile.1
mrtg-2/share/man/man1/mrtg-reference.1
mrtg-2/share/man/man1/mrtg-nt-guide.1
mrtg-2/share/man/man1/indexmaker.1
mrtg-2/share/man/man1/mrtg-nw-guide.1
mrtg-2/share/man/man1/mrtg.1
mrtg-2/share/man/man1/cfgmaker.1
mrtg-2/lib/
mrtg-2/lib/mrtg2/
mrtg-2/lib/mrtg2/Pod/
mrtg-2/lib/mrtg2/Pod/InputObjects.pm
mrtg-2/lib/mrtg2/Pod/Parser.pm
mrtg-2/lib/mrtg2/Pod/PlainText.pm
mrtg-2/lib/mrtg2/Pod/Select.pm
mrtg-2/lib/mrtg2/Pod/Usage.pm
mrtg-2/lib/mrtg2/Net_SNMP_util.pm
mrtg-2/lib/mrtg2/SNMP_util.pm
mrtg-2/lib/mrtg2/locales_mrtg.pm
mrtg-2/lib/mrtg2/SNMP_Session.pm
mrtg-2/lib/mrtg2/BER.pm
mrtg-2/lib/mrtg2/MRTG_lib.pm
/root/yoics/yoics_install
[root@proxy13 yoics_install]# ls -l
total 7120
-rw-r--r-- 1 root root    2022 Jan 22 16:28 fw.txt
-rwxr-xr-x 1 root root     162 Jan 22 23:45 install_mrtg
-rw-r--r-- 1 root root    2087 Jan 22 16:14 install_proxy_plesk.txt
-rw-r--r-- 1 root root    2263 Jan 22 16:29 install_raw.txt
-rw-r--r-- 1 root root  818871 Jan 22 16:25 mrtg-2.tgz
-rw-r--r-- 1 root root   16270 Jan 22 16:14 mrtg.tgz
-rw-r--r-- 1 root root 6426931 Jan 22 16:13 proxy.tgz
-rwxr-xr-x 1 root root     425 Jan 22 16:14 replace
-rw-r--r-- 1 root root    2958 Jan 22 16:38 yoics.net.ssl.tgz
[root@proxy13 yoics_install]# cat install_proxy_plesk.txt 
Login to master DNS server and create 3 entries for this server IP:

proxyX.yoics.net
proxyXl.yoics.net
pX.yoics.net


Create domain on plesk panel, in this case proxy50.yoics.net

add yoics.net private key and certificate (wildcard) at the interface level of plesk control panel.

Select the IP address to use this key.

If you get an error, check  :


   31  vi /etc/httpd/conf.d/ssl.conf

        // delete all the virtual host section for the default ssl key.

   32  apachectl stop
   33  apachectl start
   34  q

If 64 bit OS may need to add 32 bit support to run the Yoics binary (should look at doing a 64bit binary)
        yum install glibc.i686


Add Proxy (not adding rev proxy on this one)

        cd /home/htdocs/proxy50.yoics.net/httpdocs    (or current proxy directory)
        get proxy tgz
        tar -xvzf proxy.tgz
        replace proxy5 with this proxy name (in helpers and init.php)



Next add MRTG stuff:

        adduser mrtg
        passwd mrtg

        cd /home/mrtg
        sftp the mrtg.tgz
        tar -xvzf mrtg.tgz
        chown -R mrtg.mrtg *
        cd cfg
        replace proxy5 with this proxy name
        (you can user scipt replace   ie  rep oxy5 oxy50 .    while in the same directory)
        make sure interfaces are correct in config for this server (IE eth0...eth3)       

 
Add MRTG software:

        cd /usr/local
        get mrtg-2.tgz
        tar -xvzf mrtg-2.tgz

Add Cron Scripts:


        */5 * * * * root /usr/local/mrtg-2/bin/mrtg /home/mrtg/cfg/mrtg1.cfg --logging /var/log/mrtg.log     
        */5 * * * * root /usr/local/mrtg-2/bin/mrtg /home/mrtg/cfg/mrtg2.cfg --logging /var/log/mrtg.log
        */15 * * * * root /usr/bin/php -q /home/mrtg/cfg/process_connections.php >/dev/null 2>&1 
        */5 * * * * yoics /usr/bin/wget -q --spider http://proxy[X]l.yoics.net/pcs.php

Add other cron scripts:

        cron.hourly fail_mail.php
        cron.daily fail_mail.php



Verify:
        check cron log
        check you can start a proxy
        check that expires work when calling http://proxy[X]l.yoics.net/pcs.php






[root@proxy13 yoics_install]# cd /var/www
[root@proxy13 www]# ls -l
total 32
drwxr-xr-x 14 root      root 4096 Dec 27 14:21 atmail
drwxr-xr-x  4 root      root 4096 Feb 13  2012 cgi-bin
drwxr-xr-x  3 root      root 4096 Dec 27 13:06 error
drwxr-xr-x  3 root      root 4096 Feb 13  2012 html
drwxr-xr-x  3 root      root 4096 Dec 27 13:07 icons
drwxr-xr-x  3 root      root 4096 Dec 27 12:48 manual
drwxr-xr-x  2 webalizer root 4096 Jan  1 02:44 usage
drwxr-xr-x  8 root      root 4096 Jan 18 00:20 vhosts
[root@proxy13 www]# cd html
[root@proxy13 html]# ls -l
total 4
drwxr-xr-x 4 root root 4096 Dec 27 12:48 awstats
[root@proxy13 html]# cd ..
[root@proxy13 www]# cd vhosts
[root@proxy13 vhosts]# ls -l
total 20
drwxr-xr-x 10 root root 4096 Dec 27 12:48 chroot
drwxr-xr-x  5 root root 4096 Jun  6  2012 default
drwxr-xr-x  7 root root 4096 Dec 27 12:48 fs
drwxr-xr-x  2 root root 4096 Dec 27 12:48 fs-passwd
drwxr-xr-x 12 root root 4096 Jan 18 00:20 proxy13.yoics.net
[root@proxy13 vhosts]# 
[root@proxy13 vhosts]# cd /home
[root@proxy13 home]# ls -l
total 8
drwxr-xr-x 2 root root 4096 Jun  6  2012 ftp
drwx------ 3 mrtg mrtg 4096 Jan 22 23:42 mrtg
[root@proxy13 home]# mkdir htdocs
[root@proxy13 home]# cd htdocs
[root@proxy13 htdocs]# ln -s /var/www/
atmail/  cgi-bin/ error/   html/    icons/   manual/  usage/   vhosts/  
[root@proxy13 htdocs]# ln -s /var/www/vhosts/proxy13.yoics.net/ .
[root@proxy13 htdocs]# ls -l
total 0
lrwxrwxrwx 1 root root 34 Jan 22 23:47 proxy13.yoics.net -> /var/www/vhosts/proxy13.yoics.net/
[root@proxy13 htdocs]# cd proxy13.yoics.net/
[root@proxy13 proxy13.yoics.net]# ls -l
total 40
drwxr-x--- 5 yoics psaserv 4096 Jan 18 00:20 anon_ftp
drwxr-x--- 3 yoics psaserv 4096 Jan 18 00:20 cgi-bin
drwxr-x--- 2 root  psaserv 4096 Jan 18 00:37 conf
drwxr-xr-x 2 root  psaserv 4096 Jan 18 00:20 error_docs
drwxr-x--- 7 yoics psaserv 4096 Jan 18 00:20 httpdocs
drwxr-x--- 2 root  psaserv 4096 Jan 18 00:20 pd
drwx------ 2 yoics root    4096 Jan 18 00:20 private
dr-xr-x--- 7 yoics psaserv 4096 Jan 18 00:20 statistics
drwxr-xr-x 2 root  psaserv 4096 Jan 18 00:20 subdomains
drwxr-xr-x 2 root  psaserv 4096 Jan 18 00:20 web_users
[root@proxy13 proxy13.yoics.net]# cd httpdocs
[root@proxy13 httpdocs]# ls -l
total 36
drwxr-xr-x  2 yoics psacln  4096 Jan 18 00:20 css
-rw-r--r--  1 yoics psacln  1150 Jan 18 00:20 favicon.ico
drwxr-xr-x  6 yoics psacln  4096 Jan 18 00:20 img
-rw-r--r--  1 yoics psacln 10198 Jan 18 00:20 index.html
drwxr-xr-x  2 yoics psacln  4096 Jan 18 00:20 picture_library
drwxr-xr-x  2 root  root    4096 Jan 18 00:20 plesk-stat
drwxr-xr-x 11 yoics psacln  4096 Jan 18 00:20 test
[root@proxy13 httpdocs]# rm -rf *
[root@proxy13 httpdocs]# cd ..
[root@proxy13 proxy13.yoics.net]# cp /root/
anaconda-ks.cfg      .bash_logout         .cshrc               install.log.syslog   parallels/           .tcshrc
.autoinstaller/      .bash_profile        .elinks/             .mysql_history       parallels_installer  .viminfo
.bash_history        .bashrc              install.log          .odbc.ini            .rnd                 yoics/
[root@proxy13 proxy13.yoics.net]# cp /root/yoics/
install_yoics.tgz  yoics_install/     
[root@proxy13 proxy13.yoics.net]# cp /root/yoics/yoics_install/
fw.txt                   install_proxy_plesk.txt  mrtg-2.tgz               proxy.tgz                yoics.net.ssl.tgz
install_mrtg             install_raw.txt          mrtg.tgz                 replace                  
[root@proxy13 proxy13.yoics.net]# cp /root/yoics/yoics_install/proxy.tgz
cp: missing destination file operand after `/root/yoics/yoics_install/proxy.tgz'
Try `cp --help' for more information.
[root@proxy13 proxy13.yoics.net]# cp /root/yoics/yoics_install/proxy.tgz .
[root@proxy13 proxy13.yoics.net]# ls -l
total 6320
drwxr-x--- 5 yoics psaserv    4096 Jan 18 00:20 anon_ftp
drwxr-x--- 3 yoics psaserv    4096 Jan 18 00:20 cgi-bin
drwxr-x--- 2 root  psaserv    4096 Jan 18 00:37 conf
drwxr-xr-x 2 root  psaserv    4096 Jan 18 00:20 error_docs
drwxr-x--- 2 yoics psaserv    4096 Jan 22 23:47 httpdocs
drwxr-x--- 2 root  psaserv    4096 Jan 18 00:20 pd
drwx------ 2 yoics root       4096 Jan 18 00:20 private
-rw-r--r-- 1 root  root    6426931 Jan 22 23:47 proxy.tgz
dr-xr-x--- 7 yoics psaserv    4096 Jan 18 00:20 statistics
drwxr-xr-x 2 root  psaserv    4096 Jan 18 00:20 subdomains
drwxr-xr-x 2 root  psaserv    4096 Jan 18 00:20 web_users
[root@proxy13 proxy13.yoics.net]# tar -xvzf proxy.tgz 
httpdocs/
httpdocs/pport/
httpdocs/favicon.ico
httpdocs/pcs.php
httpdocs/rtsp/
httpdocs/rtsp/ttt.php
httpdocs/rtsp/vnc.php
httpdocs/rtsp/logo150x150.gif
httpdocs/rtsp/rtsp.php
httpdocs/rtsp/qtlogo.mov
httpdocs/old.htaccess
httpdocs/plesk-stat/
httpdocs/se
httpdocs/vnc/
httpdocs/vnc/index.html
httpdocs/vnc/vncviewer.jar
httpdocs/vnc/vnc.php
httpdocs/vnc/instructions.gif
httpdocs/vnc/logo150x150.gif
httpdocs/vnc/logo150x150.gif.old
httpdocs/vnc/t/
httpdocs/vnc/t/index.html
httpdocs/vnc/t/vncviewer.jar
httpdocs/vnc/t/vnc.php
httpdocs/vnc/t/logo150x150.gif
httpdocs/vnc/.htaccess
httpdocs/log/
httpdocs/log/pr-ok
httpdocs/log/pr-error
httpdocs/nph-test.php
httpdocs/translate/
httpdocs/index.html
httpdocs/expired/
httpdocs/expired/8081
httpdocs/expired/.33050.swp
httpdocs/expired/.34859.swp
httpdocs/expired/.23598.swp
httpdocs/expired/.30098.swp
httpdocs/expired/.35390.swp
httpdocs/expired/.33118.swp
httpdocs/expired/.35058.swp
httpdocs/expired/.39963.swp
httpdocs/expired/.36060.swp
httpdocs/expired/.38755.swp
httpdocs/expired/.21691.swp
httpdocs/expired/.30644.swp
httpdocs/running/
httpdocs/ps.php
httpdocs/ps.php.bak
httpdocs/lorex_dvr/
httpdocs/lorex_dvr/CAB/
httpdocs/lorex_dvr/CAB/MPlayerWeb.cab
httpdocs/lorex_dvr/CAB/MNVSClientWeb.cab
httpdocs/lorex_dvr/CAB/MSetupWeb.cab
httpdocs/lorex_dvr/CAB/MBackupWeb.cab
httpdocs/lorex_dvr/Web_Param.txt
httpdocs/lorex_dvr/index.html
httpdocs/lorex_dvr/MNVSClientWeb.ocx
httpdocs/lorex_dvr/test.php
httpdocs/lorex_dvr/MBackupPlayerWeb.ocx
httpdocs/lorex_dvr/MRemoteSetupWeb.ocx
httpdocs/lorex_dvr/dvr.php
httpdocs/lorex_dvr/MBackupWeb.ocx
httpdocs/rport/
httpdocs/tfix/
httpdocs/tfix/logman.php
httpdocs/tfix/pport/
httpdocs/tfix/pport/57419
httpdocs/tfix/yoicsd_test
httpdocs/tfix/index.php
httpdocs/tfix/run-device.php
httpdocs/tfix/se
httpdocs/tfix/log/
httpdocs/tfix/log/.htaccess
httpdocs/tfix/expired/
httpdocs/tfix/expired/.htaccess
httpdocs/tfix/running/
httpdocs/tfix/running/.htaccess
httpdocs/tfix/status.php
httpdocs/tfix/run-proxy.php
httpdocs/tfix/tfix_init.php
httpdocs/tfix/killall.php
httpdocs/tfix/.htaccess
httpdocs/tfix/jquery-1.4.2.js
httpdocs/tfix/count.sh
httpdocs/tfix/tes.php
httpdocs/failp2p/
httpdocs/pr.php
httpdocs/init.php
httpdocs/yoicsd
httpdocs/fail/
httpdocs/fail/8081
httpdocs/mrtg/
httpdocs/mrtg/connect_count-week.png.meta
httpdocs/mrtg/ping-week.png
httpdocs/mrtg/load-year.png
httpdocs/mrtg/memory-year.png.meta
httpdocs/mrtg/eth0-year.png
httpdocs/mrtg/fail_count.html.meta
httpdocs/mrtg/memory-month.png
httpdocs/mrtg/fail_count.log
httpdocs/mrtg/connected.html
httpdocs/mrtg/filtered-week.png.meta
httpdocs/mrtg/lo-week.png.meta
httpdocs/mrtg/connect_count.old
httpdocs/mrtg/disk1.old
httpdocs/mrtg/fail_count-month.png
httpdocs/mrtg/connect_count.log
httpdocs/mrtg/filtered-day.png
httpdocs/mrtg/sessions-year.png
httpdocs/mrtg/lo-week.png
httpdocs/mrtg/load-day.png
httpdocs/mrtg/sessions.old
httpdocs/mrtg/eth0.html
httpdocs/mrtg/connected-year.png.meta
httpdocs/mrtg/fail_count.html
httpdocs/mrtg/disk1-week.png
httpdocs/mrtg/mrtg-l.png
httpdocs/mrtg/connect_count-year.png
httpdocs/mrtg/filtered.html.meta
httpdocs/mrtg/eth0-month.png
httpdocs/mrtg/eth0-month.png.meta
httpdocs/mrtg/connect_count-year.png.meta
httpdocs/mrtg/disk1-month.png
httpdocs/mrtg/sessions-month.png.meta
httpdocs/mrtg/load.html.meta
httpdocs/mrtg/disk1-year.png.meta
httpdocs/mrtg/disk1-week.png.meta
httpdocs/mrtg/disk1-day.png.meta
httpdocs/mrtg/connect_count.html
httpdocs/mrtg/connected-week.png
httpdocs/mrtg/eth0.old
httpdocs/mrtg/load.html
httpdocs/mrtg/fail_count-week.png.meta
httpdocs/mrtg/disk1-year.png
httpdocs/mrtg/sessions-week.png
httpdocs/mrtg/sessions-day.png
httpdocs/mrtg/connected.html.meta
httpdocs/mrtg/index.html
httpdocs/mrtg/connect_count-month.png
httpdocs/mrtg/sessions-day.png.meta
httpdocs/mrtg/connected-year.png
httpdocs/mrtg/connect_count-day.png.meta
httpdocs/mrtg/disk1-month.png.meta
httpdocs/mrtg/disk1.html
httpdocs/mrtg/ping.html
httpdocs/mrtg/ping.old
httpdocs/mrtg/memory.log
httpdocs/mrtg/fail_count-day.png.meta
httpdocs/mrtg/ping.log
httpdocs/mrtg/load-week.png.meta
httpdocs/mrtg/fail_count-year.png.meta
httpdocs/mrtg/connected.log
httpdocs/mrtg/filtered-week.png
httpdocs/mrtg/mrtg-r.png
httpdocs/mrtg/eth0-year.png.meta
httpdocs/mrtg/ping-day.png.meta
httpdocs/mrtg/load-year.png.meta
httpdocs/mrtg/fail_count-week.png
httpdocs/mrtg/lo.html.meta
httpdocs/mrtg/memory.old
httpdocs/mrtg/mrtg-m.png
httpdocs/mrtg/ping.html.meta
httpdocs/mrtg/connected-week.png.meta
httpdocs/mrtg/eth0-week.png
httpdocs/mrtg/filtered-day.png.meta
httpdocs/mrtg/disk1.html.meta
httpdocs/mrtg/connected-month.png.meta
httpdocs/mrtg/filtered.log
httpdocs/mrtg/sessions.html.meta
httpdocs/mrtg/ping-week.png.meta
httpdocs/mrtg/filtered.old
httpdocs/mrtg/memory-month.png.meta
httpdocs/mrtg/load-month.png.meta
httpdocs/mrtg/lo.html
httpdocs/mrtg/eth0.html.meta
httpdocs/mrtg/lo.old
httpdocs/mrtg/ping-month.png.meta
httpdocs/mrtg/memory.html.meta
httpdocs/mrtg/eth0-week.png.meta
httpdocs/mrtg/memory.html
httpdocs/mrtg/connect_count-month.png.meta
httpdocs/mrtg/filtered-year.png
httpdocs/mrtg/sessions-year.png.meta
httpdocs/mrtg/filtered-month.png
httpdocs/mrtg/eth0.log
httpdocs/mrtg/eth0-day.png
httpdocs/mrtg/connect_count-day.png
httpdocs/mrtg/mrtg.html
httpdocs/mrtg/lo-month.png
httpdocs/mrtg/connected-day.png
httpdocs/mrtg/fail_count-year.png
httpdocs/mrtg/memory-day.png
httpdocs/mrtg/lo-year.png
httpdocs/mrtg/memory-year.png
httpdocs/mrtg/sessions.html
httpdocs/mrtg/memory-week.png.meta
httpdocs/mrtg/connect_count.html.meta
httpdocs/mrtg/connected-month.png
httpdocs/mrtg/connected-day.png.meta
httpdocs/mrtg/sessions-month.png
httpdocs/mrtg/t/
httpdocs/mrtg/t/index.html
httpdocs/mrtg/t/mrtg.html
httpdocs/mrtg/fail_count-month.png.meta
httpdocs/mrtg/disk1.log
httpdocs/mrtg/sessions.log
httpdocs/mrtg/disk1-day.png
httpdocs/mrtg/filtered-year.png.meta
httpdocs/mrtg/filtered-month.png.meta
httpdocs/mrtg/eth0-day.png.meta
httpdocs/mrtg/connect_count-week.png
httpdocs/mrtg/connected.old
httpdocs/mrtg/ping-day.png
httpdocs/mrtg/ping-year.png
httpdocs/mrtg/memory-week.png
httpdocs/mrtg/index.html.meta
httpdocs/mrtg/lo-day.png
httpdocs/mrtg/load.log
httpdocs/mrtg/sessions-week.png.meta
httpdocs/mrtg/filtered.html
httpdocs/mrtg/ping-year.png.meta
httpdocs/mrtg/fail_count-day.png
httpdocs/mrtg/load.old
httpdocs/mrtg/lo-year.png.meta
httpdocs/mrtg/lo-month.png.meta
httpdocs/mrtg/load-week.png
httpdocs/mrtg/memory-day.png.meta
httpdocs/mrtg/lo-day.png.meta
httpdocs/mrtg/fail_count.old
httpdocs/mrtg/ping-month.png
httpdocs/mrtg/load-month.png
httpdocs/mrtg/load-day.png.meta
httpdocs/mrtg/lo.log
httpdocs/rdp/
httpdocs/rdp/JavaRDP14-1.1.jar
httpdocs/rdp/instructions.gif
httpdocs/rdp/rdp1.tgz
httpdocs/rdp/rdp.php
httpdocs/pk.php
[root@proxy13 proxy13.yoics.net]# cd httpdocs/
[root@proxy13 httpdocs]# ls -l
total 188
drwxrwxrwx 2 yoics psaserv  4096 May 18  2012 expired
drwxrwxrwx 2 yoics psaserv  4096 May 17  2012 fail
drwxrwxrwx 2 yoics psaserv  4096 May 17  2012 failp2p
-rwxr-xr-x 1 yoics psaserv  2550 Jan 17  2008 favicon.ico
-rw-r--r-- 1 root  root       27 May 17  2012 index.html
-rw-r--r-- 1 yoics psaserv 11555 May 17  2012 init.php
drwxrwxrwx 2 yoics psaserv  4096 May 17  2012 log
drwxr-xr-x 3 yoics psaserv  4096 May 17  2012 lorex_dvr
drwxrwxrwx 3 yoics psaserv  4096 May 20  2012 mrtg
-rw-r--r-- 1 yoics psaserv    24 Jun  6  2009 nph-test.php
-rw-r--r-- 1 yoics psaserv   309 May  7  2008 old.htaccess
-rwxr-xr-x 1 yoics psaserv   533 Aug  3  2008 pcs.php
-rwxr-xr-x 1 yoics psaserv  1260 Nov  7  2009 pk.php
drwxr-xr-x 2 yoics psaserv  4096 Jan 17  2008 plesk-stat
drwxrwxrwx 2 yoics psaserv  4096 May 17  2012 pport
-rwxr-xr-x 1 yoics psaserv  6202 Feb 22  2012 pr.php
-rwxr-xr-x 1 yoics psaserv  2848 Jun 29  2011 ps.php
-rwxr-xr-x 1 yoics psaserv  3609 Mar  9  2009 ps.php.bak
drwxr-xr-x 2 yoics psaserv  4096 May 17  2012 rdp
drwxrwxrwx 2 yoics psaserv  4096 May 17  2012 rport
drwxr-xr-x 2 yoics psaserv  4096 May 17  2012 rtsp
drwxrwxrwt 2 yoics psaserv  4096 May 18  2012 running
-rwxr-xr-x 1 yoics psaserv    49 Jun 20  2011 se
drwxr-xr-x 6 yoics psaserv  4096 May 17  2012 tfix
drwxrwxrwx 2 yoics psaserv  4096 May 18  2012 translate
drwxr-xr-x 3 yoics psaserv  4096 May 17  2012 vnc
-rwxr-xr-x 1 yoics psaserv 72616 Feb 14  2012 yoicsd
[root@proxy13 httpdocs]# vi index.php
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
~
[root@proxy13 httpdocs]# vi init.php
<?PHP
//-------------------------------------------------------------------------------------------------------------------------
// Initialize the global configuration - This should be included by all calls.
// (c)2007 Yoics        -MWJ
//-------------------------------------------------------------------------------------------------------------------------
// /home/htdocs/yoics.net/proxy1

//
// Global Config for the proxy - if needed chance these values for each individual proxy
//
//
$root_directory         ="/var/www/vhosts/proxy50.yoics.net/httpdocs/";
$proxy_exe              ="yoicsd ";
$running_subdirectory   ="running/";
$translate_subdirectory ="translate/";
$expired_subdirectory   ="expired/";
$fail_subdirectory      ="fail/";
$fail_p2p_subdirectory  ="failp2p/";
$log_subdirectory       ="log/";
$revs_port_dir          =$root_directory."rport/";
$proxy_port_dir         =$root_directory."pport/";
$running_dir            =$root_directory.$running_subdirectory;
$fail_dir               =$root_directory.$fail_subdirectory;
$fail_p2p_dir           =$root_directory.$fail_p2p_subdirectory;
$log_dir                =$root_directory.$log_subdirectory;
$translate_directory    =$root_directory.$translate_subdirectory;
$expired_directory      =$root_directory.$expired_subdirectory;
$max_proxys             = 300;


define("TIMEOUT", 120);
date_default_timezone_set('America/Los_Angeles');

// Lock time is 1 second (200ms * 5)
define ("LOCK_TIME",    5);


function logit($file,$msg)
        $stamp=str_pad($today["mon"],2,"0",STR_PAD_LEFT)."/".str_pad($today["mday"],2,"0",STR_PAD_LEFT)."-".str_pad($today["hours"],<?PHP
//-------------------------------------------------------------------------------------------------------------------------
// Initialize the global configuration - This should be included by all calls.
// (c)2007 Yoics        -MWJ
//-------------------------------------------------------------------------------------------------------------------------
// /home/htdocs/yoics.net/proxy1

//
// Global Config for the proxy - if needed chance these values for each individual proxy
//
//
$root_directory         ="/var/www/vhosts/proxy50.yoics.net/httpdocs/";
[root@proxy13 httpdocs]# hostname
proxy13.yoics.net
